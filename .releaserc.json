{
  "branches": ["main"],
  "plugins": [
    "@semantic-release/commit-analyzer",
    "@semantic-release/release-notes-generator",
    [
      "@semantic-release/exec",
      {
        "prepareCmd": "pwsh -Command \"(Get-Content Cargo.toml) -replace 'version = \\\"[0-9]+\\.[0-9]+\\.[0-9]+\\\"', 'version = \\\"${nextRelease.version}\\\"' | Set-Content Cargo.toml\""
      }
    ],
    [
      "@semantic-release/exec",
      {
        "prepareCmd": "cargo build --release"
      }
    ],
    [
      "@semantic-release/exec",
      {
        "prepareCmd": "pwsh -Command \"Compress-Archive -Path target/release/acpplinter.exe -DestinationPath acpplinter.zip -Force\""
      }
    ],
    [
      "@semantic-release/github",
      {
        "assets": [
          {
            "path": "acpplinter.zip",
            "label": "acpplinter.zip"
          }
        ]
      }
    ]
  ]
}
